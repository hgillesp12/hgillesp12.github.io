<!DOCTYPE HTML>
<html>
	<head>
		<title>Hannah Gillespie</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=1000">
		<link rel="stylesheet" href="https://use.typekit.net/quv7bsd.css"> <!-- fonts -->
		<link rel="stylesheet" href="style.css" />
	</head>
	<body id="body">
		<div id="main">
			<header id="navbar">
				<a href="index.html">Home</a>
				<a href="portfolio.html">Portfolio</a>
				<button id="dark-toggle" class="button-mode">
					<img id="toggle-icon" src="images/buttons/dark_mode.jpg" alt="Toggle Dark Mode">
				</button>
			</header>
            
			<div class="section portfolio">
				<h2>Containerised microservices architecture for virtual voting platform</h2>

				<div class="portfolio-proj">
					<div class="portfolio-small-thumb">
						<iframe width="560" height="315" 
						src="https://www.youtube.com/embed/Sb_yrYrNDhg?si=s1Mch7MRe7ClP527"
						title="eSortition Overview" 
						frameborder="0" 
						allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
						allowfullscreen>
						</iframe>
					</div>
					<a href="https://youtu.be/Sb_yrYrNDhg?si=s1Mch7MRe7ClP527" target="_blank" 
                    class="portfolio-proj-title">eSortition</a>
					<br>
					<p>eSortition is a secure digital voting platform developed with a microservices architecture. It features two Flask-based portals: 
                        the Admin Portal for managing elections and the Voting Portal for casting votes and viewing results. Key infrastructure includes
                        Digital Ocean for hosting, Railway for database management, and Azure Functions for serverless notifications. A Kong API Gateway 
                        routes traffic between client apps and backend services. Core backend microservices handle authentication, election setup, vote processing, and email notifications. The system is fully 
                        containerised with Docker and Docker Compose for consistent development and deployment.<br></p>
                         <p><a href="https://github.com/Diveenaa/esortition" target="_blank">GitHub</a> &nbsp;&nbsp;&bull;&nbsp;&nbsp;
                            <a href="https://youtu.be/Sb_yrYrNDhg?si=s1Mch7MRe7ClP527" target="_blank">Video</a></p>
                </div>
			</div>
			<footer id="footer">
				<div class="footer-links">
					<a href="https://www.linkedin.com/in/hannahgillespie" target="_blank" rel="noopener noreferrer" class="button-link">
						<img src="images/buttons/linkedin.png" alt="LinkedIn">
					</a>
					<a href="https://github.com/hgillesp12" target="_blank" rel="noopener noreferrer" class="button-link">
						<img src="images/buttons/github.png" alt="GitHub">
					</a>
					<a href="files/Gillespie CV.pdf" target="_blank" rel="noopener noreferrer" class="button-link">
						<img src="images/buttons/cv.png" alt="View CV">
					</a>
					<button class="button-link" onclick="openModal()">
						<img src="images/buttons/email.png" alt="Email icon">
					</button>
				</div>
			</footer>
		</div>
	<!-- Modal structure -->
	<div id="contactModal" class="modal">
		<div class="modal-content">
		<span class="close" onclick="closeModal()">&times;</span>
		<h1 class="contact-heading">Contact</h1>
		<form action="https://formspree.io/f/manovarg" method="POST" class="contact-form">
			<label for="name">Your name:</label><br>
			<input type="text" id="name" name="name" required><br><br>
	
			<label for="email">Your email:</label><br>
			<input type="email" id="email" name="email" required><br><br>
	
			<label for="message">Your message:</label><br>
			<textarea id="message" name="message" rows="6" required></textarea><br><br>
	
			<button type="submit" class="contact-button">Send</button>
		</form>
		</div>
	</div>

	<script>
		// Cache references
		const body = document.body;
		const toggleBtn = document.getElementById('dark-toggle');
		const toggleIcon = document.getElementById('toggle-icon');
		const darkIcon = 'images/buttons/dark_mode.jpg'; 
		const lightIcon = 'images/buttons/light_mode.jpg';   
		
		// Load saved preference on page load
		if (localStorage.getItem('darkMode') === 'enabled') {
			body.classList.add('dark-mode');
			toggleIcon.src = lightIcon;  // light icon for light mode
		} else {
			toggleIcon.src = darkIcon;  // dark icon for dark mode
		}

		// Toggle dark mode function
		function toggleDarkMode() {
			body.classList.toggle('dark-mode');
			if (body.classList.contains('dark-mode')) {
				localStorage.setItem('darkMode', 'enabled');
				toggleIcon.src = lightIcon;
			} else {
				localStorage.setItem('darkMode', 'disabled');
				toggleIcon.src = darkIcon;
			}
		}

		// Attach event listener to button
		toggleBtn.addEventListener('click', toggleDarkMode);

		function openModal() {
			document.getElementById("contactModal").style.display = "flex";
			document.body.classList.add("modal-open");
		}

		function closeModal() {
			document.getElementById("contactModal").style.display = "none";
			document.body.classList.remove("modal-open");
		}

		window.onclick = function(event) {
		  const modal = document.getElementById("contactModal");
		  if (event.target === modal) {
			closeModal();
		  }
		}
		
		window.addEventListener('pageshow', function(event) {
		// 'pageshow' fires even when navigating back to the page.
		// Ensure the modal is hidden:
		const modal = document.getElementById('contactModal');
		if (modal) {
			modal.style.display = 'none';
		}
		});
	</script>
	</body>
</html>

